{% extends "layout.html"%}

{% block content %}


<div class="row justify-content-center">
	<div class="col-lg-8 mt-4 mb-4">
		<div class="card p-3 shadow-sm">
			<div class="row">
				<h1 class="text-center">{{ department.name }} Devices</h1>
				<a href="{{ url_for('add_device', department_id = department.id) }}"><button type="button"
						class="btn btn-info btn-md">Add
						New Device</button></a>
				{% if url_for('add_device', department_id = department.id) == request.path %}
				<div class="row justify-content-center">
					<div class="col-lg-8 mt-4 mb-4">
						<div class="alert alert-success alert-dismissible fade show position-fixed top-0 start-50 translate-middle-x mt-3 w-50"
							role="alert">
							<a href="{{ url_for('devices', department_id = department.id)}} "><button type="button"
									class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></a>
							<h1 class="text-center">Add New Device</h1>
							<br>
							<form method="post" class="justify-content-center text-center">
								{{ form.hidden_tag()}}

								{{ form.name.label(class="form-label")}}
								{% if form.name.errors %}
								{{ form.name(class="form-control is-invalid") }}
								<div id="validationServer03Feedback" class="invalid-feedback">
									{% for error in form.name.errors %}
									{{ error }}
									{% endfor %}
								</div>
								{% else %}
								{{ form.name(class="form-control")}}
								{% endif %}
								<br>
								{{ form.submit(class="btn btn-secondary btn-lg")}}
							</form>
						</div>
					</div>
				</div>
				{% endif %}
				{% for device in devices %}
				{# {% if url_for('update_department', id=department.id) == request.path %}
				<div class="row justify-content-center">
					<div class="col-lg-8 mt-4 mb-4">
						<div class="alert alert-success alert-dismissible fade show position-fixed top-0 start-50 translate-middle-x mt-3 w-50"
							role="alert">
							<a href="{{ url_for('departments')}} "><button type="button" class="btn-close"
									data-bs-dismiss="alert" aria-label="Close"></button></a>
							<h1 class="text-center">Update Department</h1>
							<br>
							<form method="post" class="justify-content-center text-center">
								{{ form.hidden_tag()}}

								{{ form.name.label(class="form-label")}}
								{% if form.name.errors %}
								{{ form.name(class="form-control is-invalid") }}
								<div id="validationServer03Feedback" class="invalid-feedback">
									{% for error in form.name.errors %}
									{{ error }}
									{% endfor %}
								</div>
								{% else %}
								{{ form.name(class="form-control")}}
								{% endif %}
								<br>
								{{ form.submit(class="btn btn-secondary btn-lg")}}
							</form>
						</div>
					</div>
				</div>
				{% endif %} #}
				<div class="col-md-8 col-lg-12 mt-4 mb-4">
					<div class="card p-3 shadow-sm">
						<div class="row align-items-center">
							<!-- Left Side: User Information -->
							<div class="col-lg-8 col-12">
								{# {{ url_for('departments', id = department.id)}} #}
								<a href="#">
									<h4 class="mb-1 text-center">{{device.name}} Device</h4>
								</a>
								<br>
								<hr>
								<div>
									{# {{ url_for('update_department', id = department.id)}} #}
									<a href="#"><button type="button" class="btn btn-warning btn-custom mt-1">Update
											Device</button></a>
									{# {{ url_for('delete_department', id = department.id)}} #}
									<a href="#"><button type="button" class="btn btn-danger custom-button mt-1">Delete
											Device</button></a>
								</div>
							</div>
							<!-- Right Side: User Photo -->
							<div class="col-lg-4 text-center mt-1">
								<img src="{{ url_for('static', filename='images/profile.jpg')}}" alt="User Photo"
									class="rounded-photo mt-2">
							</div>
						</div>
					</div>
				</div>
				{% endfor %}
			</div>
		</div>
	</div>


	{% endblock%}